dist: xenial
lang: go
notifications:
  irc:
    channels:
      - "chat.freenode.net#pkt"
    on_success: change
    on_failure: always
go:
  - "1.12.x"
matrix:
  include:
    - os: linux
      addons:
        apt:
          packages:
            - rpmbuild
      script:
        - gem install --no-document fpm
        - bash -x ./contrib/deb/build.sh
        - bash -x ./contrib/rpm/build.sh
    - os: osx
      script:
        - gem install --no-document fpm
        - bash -x ./contrib/macos/build.sh